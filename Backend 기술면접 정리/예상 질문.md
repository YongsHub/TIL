# REST API

[참고 링크](https://gmlwjd9405.github.io/2018/09/21/rest-and-restful.html)<br>
📌 API란? Application Programming Interface로써, 데이터와 기능의 집합을 제공하며 서로 정보를 교환 가능하도록 하는 것이다.

> 따라서, RESTFul API는 REST한 API를 의미하는 것으로 알고 있는데 여기서 REST는 서버와 클라이언트간의 주소를 통해 자원을 지정하거나 주고 받을 수 있고, http 프로토콜을 기반으로 한 것이기 때문에 http 요청 메서드 get, post, put, patch, delete와 같의 지정해서 CRUD OPERATION을 적용할 수 있습니다.

## Cookie와 Session 이해하기

### Cookie

- 쿠키는 키-값의 쌍이다.
  > 클라이언트가 서버에게 요청을 하게 되면 서버는 쿠키와 함께 동봉하여 클라이언트에게 전송하는데, 브라우저는 자동으로 이 쿠키와 함께 서버에게 요청할때 전송한다. 따라서 서버는 쿠키를 확인하여 사용자를 기억할 수 있습니다. 서버 입장에서는 브라우저로 쿠키를 보낼 때만 코드를 작성하면 된다.
- 유효 시간이 존재한다.

## Session

- 서버에서 세션으로 따로 정보를 저장한다. 웹 서버 입장에서는 세션 쿠키라고 할 수 있다.
- 유효 기간은 브라우저를 닫거나 세션을 삭제했을 때만 삭제되므로 보안이 쿠키보다 우수하다.
- 쿠키와 세션은 동작 원리가 비슷하지만 쿠키는 서버의 자원을 사용하지 않으며, 세션은 서버의 자원을 사용하는 것으로 알고 있다.

# NoSQL vs SQL

### ❗️ SQL

- 규칙에 맞는 데이터 입력
- 테이블 간 JOIN 지원
- 안정성, 일관성
- 용어: 테이블, 로우 칼럼

* 이 중에서도 MySQL은 관계형 데이터베이스로서, Node JS에서는 Sequelize를 통해서 자바스크립트 객체와 데이터베이스의 릴레이션을 맵핑해주는 도구이다. -> ORM(Object Relation Mapping)이라고 불린다.
* 시퀄라이즈를 쓰는 이유? 자바스크립트 구문을 알아서 SQL로 바꿔주기 때문이다.

### ❗️ NoSQL

- MongoDB 같은 경우는 자바스크립트 문법을 사용하기 때문에 편리함
- Collections Document Field
- 자유로운 데이터 입력이 가능해서 Socket IO에서 데이터를 저장할 때 사용하기도 함
- 확장성이나 가용성이 좋다.

## Node JS Express FrameWork

- 익스프레스는 라우터와 미들웨어라는 핵심적인 기능을 가지고 있다.
- 규칙이 크게 없고 백지부터 시작하는 느낌이기도 하지만 자유로운 느낌이 있다.
- 따라서 요새는 JAVA에는 Spring이 있듯이, Nest JS 프레임 워크에 주목하여 공부하고 있다.

# AOP Programming이란 무엇인가?

- 관점지향 프그래밍이라는 방법론이라고 알려져 있습니다.
- AOP는 객체지향 코드 위에서 이루어지며 객체지향을 보조하는 역할을 한다고 보면 된다. OOP를 돕는 보조적인 기술로, 핵심적인 관심 사항과 공통 관심 사항으로 분리시키고 각각을 모듈화 하는 것을 의미합니다. 예를 들어 우리가 개발한 API가 회원가입을 위한 API라면 핵심적인 관심 사항은 회원가입이라는 비즈니스 로직이며, 공통 관심 사항은 호출 시간 측정 로직일 것이다.

# Docker와 마이크로서비스 아키텍처

## ❗️ 클라우드 기술의 발전으로 독립적인 서비스에 대한 버전 관리, 개발 및 배포 등이 단순해짐에 따라 마이크로서비스 아키텍처는 클라우드 환경에서 더욱 장점을 부각시키게 된다. 독립적이고, 종속적이지 않으면서 단순한 서비스로 전체 서비스를 구성하여 하나의 완성된 큰 서비스를 만드는 것이 마이크로서비스의 궁극적인 목적이라고 볼 수 있다. 작은 서비스들이 서로 연결되어 하나의 큰 시스템을 만든다고 알려져 있다.

> 마이크로서비스에서 서비스란? 단일된 기능들을 묶음으로 개발된 서비스 컴포넌트이다. REST API등을 통해서 서비스 기능을 제공하며 데이터를 공유하지 않고 독립적으로 가공 및 저장한다고 알고 있습니다.

> 관련되어 있는 서비스들은 서로 연결 되어 있으며, 서로의 데이터를 공유할 수 있고 서로의 존재를 인식할 수 있어야 합니다. 서비스들은 하나의 모듈에 대한 컴포넌트 부분집합이 될 수 있으며 독립적인 하나의 모듈이다. 부분 집합들이 모여 하나의 집합을 이루어 하나의 서비스가 될 수 있는 객체이다.

> 마이크로서비스 아키텍처는 각 기능이 서비스의 한 단위로 나누어져 있으며, 각 서비스는 다수의 서버에서 분산되어 기능을 수행한다. 마이크로 서비스 아키텍처는 서버에서 동작하는 모든 서비스들은 API 통신을 통해 데이터를 공유합니다. API Gateway는 마이크로서비스 아키텍처의 데이터 공유를 위한 컴포넌트중 하나이며, 모든 클라이언트 요청에 대한 엔드포인트를 통합하는 Proxy 역할을 수행하는 서버이며, 인증 및 권한, 모니터링, 로깅들의 기능을 수행합니다. -> 그러므로 한번의 클라이언트 호출은 다수의 서비스들에게 다중 API를 호출하는 경우가 발생된다.

### 📌 Docker

- 도커는 컨테이너 기술을 기반으로 프로세스를 격리하며 OS기반 컨테이너 가상화 기술이라고 할 수 있다. 도커는 어플리케이션을 개발 및 배포, 실행을 위한 오픈소스 플랫폼이다. 도커를 사용하면 호스트 시스템과의 독립적인 영역을 가짐으로써 소프트웨어를 빠르게 제공할 수 있습니다. 컨테이너는 가볍고 어플리케이션을 실행하는데 모든 필요한 패키지/라이브러리를 담고 있습니다. 도커는 운영체제(리눅스 커널)의 컨테이너 기술을 이용하는 것입니다.

* 다시 한번 정리하자면 도커는 어플리케이션을 개발하고 실행하며 배포할 수 있는 오픈소스 플랫폼이며, 도커는 또한 운영체제의 컨테이너 기술을 이용하여 프로세스를 컨테이너로 격리시켜 하나의 애플리케이션으로 바라보기 때문에 컨테이너 런타임 도구라고도 불리며 OS기반 컨테이너 가상화 기술이라고 알고 있습니다.

* JWT : JSON Web Token으로 서버와 클라이언트간 정보를 주고 받을 때 http request헤더에 JSON 토큰을 넣고 서버는 헤더의 JWT 정보를 통해 인증합니다.
* 헤더: 토큰 종류와 해시 알고리즘 정보가 들어가 있다.
* 페이로드: 토큰의 내용물이 인코딩된 부분
* 시그니처: 일련의 문자열이며, 시그니처를 통해 토큰이 변조되었는지 여부를 확인할 수 있다.

* MVC 패턴
* View: 사용자 인터페이스 요소를 나타냄. 클라이언트 입장에서 바라보는 화면을 의미

* Controller: 뷰에서 요청한 로직들을 서버에서 처리하기 위해서 데이터와 인터페이스 요소들을 잇는 다리 역할을 한다. 따라서 컨트롤러는 모델이나 뷰의 변경을 모니터링해야함.

* Model: 애플리케이션의 정보나 데이터를 나타냅니다. 서버에서 Database는 Model과 연결되어 있습니다.

# Node JS

- Node JS는 V8 javascript 엔진으로 빌드된 Javascript 런타임 입니다.
  이벤트 기반, 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식을 의미합니다. 이벤트로는 클릭이나 네트워크 요청 등이 있다.
- 이벤트 기반 모델에서는 event loop라는 개념이 등장한다. 여러 이벤트가 동시에 발생했을 때, 어떤 순서로 콜백 함수를 호출할지를 이벤트 루프가 판단합니다. 따라서, 이벤트 발생시 호출할 콜백 함수들을 관리하고 콜백함수의 실행 순서를 결정하는 역할을 담당합니다. 노드가 종료할때 까지 이벤트 처리를 위한 작업을 반복하므로 루프라고 부른다.
- Non-Blocking I/O
- 노드는 싱글 스레드이다. 따라서 개발자들이 작성한 코드가 동시에 실행될 수 없는 이유이기도 합니다.
- 자바스크립트는 스크립트 언어로써 컴파일 하지 않아도 read, eval, print, loop REPL이라고 부릅니다.

## 📌 ES6 이후, const와 let, 템플릿 문자열
